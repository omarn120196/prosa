<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Página 03 | I4L</title>
</head>
<body>
    <img class="elementos" id="titulo3" src="./img/pagina03/titulo.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="fondo3" src="./img/pagina03/fondo.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="robot3" src="./img/pagina03/robot.png" data-posX="0" data-posY="0" alt="">

    <img class="elementos" id="dialogo1" src="./img/pagina03/d1.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="dialogo2" src="./img/pagina03/d2.png" data-posX="0" data-posY="0" alt="">
    <img class="elementos" id="dialogo3" src="./img/pagina03/d3.png" data-posX="0" data-posY="0" alt="">


    <!-- Script de la página -->
    <script type="module">
        import {aplicacion} from './js/app.js';
        import {animacionEntrada, animacionSalida} from './js/animaciones.js';
        import {cargando} from './js/funciones.js';

        jQuery(function($){
            
            // Cargar Audios------------------------------------------------------
            const audio = [
                new Audio('./audios/Prosa_Integracion_03_01.mp3'),
                new Audio('./audios/Prosa_Integracion_03_02.mp3'),
                new Audio('./audios/Prosa_Integracion_03_03.mp3'),
            ]

            //Crear Variables-----------------------------------------------------
            const titulo = $('#titulo3');
            const fondo = $('#fondo3');
            const robot = $('#robot3');

            const d1 = $('#dialogo1');
            const d2 = $('#dialogo2');
            const d3 = $('#dialogo3');

            //Iniciar contenido de la página--------------------------------------
            
            cargando(iniciarPagina);

            function iniciarPagina(){

                aplicacion.reproducirAudio(audio[0], terminaD1, 2000);
                animacionEntrada(titulo, 'izquierda-derecha', 1, 1);
                animacionEntrada(fondo, 'derecha-izquierda', 1, 1);
                animacionEntrada(robot, 'arriba abajo', 1, 1);
                animacionEntrada(d1, 'default', 1, 2);
            }
            
            function terminaD1(){
                animacionSalida(d1, 'default', .5);

                aplicacion.reproducirAudio(audio[1], terminaD2, 1500);
                animacionEntrada(d2, 'default', 1, 1);
            }
            
            function terminaD2(){
                animacionSalida(d2, 'default', .5);

                aplicacion.reproducirAudio(audio[2], terminaPagina, 1500);
                animacionEntrada(d3, 'default', 1, 1);
            }

            function terminaPagina(){
                aplicacion.terminaPantalla()
            }
        });
    </script>

    <!-- Termina Script -->
</body>
</html>